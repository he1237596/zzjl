(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-527f3944"],{"098d":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("router-link",{attrs:{to:{name:"goods.detail",params:{goodsId:t.item.itemId}},tag:"div"}},[e("div",{staticClass:"item-wrap"},[e("div",{staticClass:"item-img-wrap"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.item.goodsPic,expression:"item.goodsPic"}],attrs:{alt:"",loading:"../assets/img-loading.png"}})]),e("div",{staticClass:"item-text",domProps:{textContent:t._s(t.item.title)}}),e("div",{staticClass:"item-text item-text-red",domProps:{textContent:t._s(t.item.subtitle)}}),e("div",{staticClass:"item-text item-text-red"},[t._v("\n\t\t\t￥"),e("span",{staticClass:"item-price",domProps:{textContent:t._s(t.item.salePrice)}})]),e("div",{staticClass:"item-text item-volume"},[t._v("\n\t\t\t销量:"),e("span",{domProps:{textContent:t._s(t.item.volume)}}),t._v(" 好评率:\n\t\t\t"),e("span",{domProps:{textContent:t._s(t.item.evalGoodRate?t.item.evalGoodRate:100)}}),t._v("%\n\t\t")])])])},a=[],o=(e("cadf"),e("551c"),e("097d"),{name:"ListRow",props:{item:{type:Object,default:function(){return{}}}}}),n=o,r=(e("4865"),e("2877")),c=Object(r["a"])(n,i,a,!1,null,"c92a6384",null);c.options.__file="ListRow.vue";s["a"]=c.exports},"16c2":function(t,s,e){},"17be":function(t,s,e){t.exports=e.p+"assets/img/logo.ea35c959.jpg"},4865:function(t,s,e){"use strict";var i=e("5b0f"),a=e.n(i);a.a},"571f":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAARVBMVEUAAACysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrI9GOPZAAAAFnRSTlMA1RTGHgf43ZM0DetMu2A9saWFcikoGFQ3EQAAALZJREFUKM+lkEeWwzAMQylTVnVJ/fc/6rxRzFjKyy7YsACEREqDv2kAl7IMmBOGi+/6k4PrUqTsKVDzqXdEq7xS3zOJOJ2qFTUR5N63sryyG1fpcWd9JWqKt0OYWxIoMiDyaBFkhB5v8jnheB5xH/rFvBNpIDZbJBN8f7fIdqQXdD6JRLTKV9bpvHO3Vq7U+79d2SLgmspuClFdgLi4npFlDQC6zTIZY+6P/Gz/N2bEL4zKd0b3P0ynCVymvH4bAAAAAElFTkSuQmCC"},"5b0f":function(t,s,e){},b3d7:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"home"},[i("router-link",{staticClass:"search",attrs:{tag:"div",to:{name:"search",params:{cateId:""}}}},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:e("17be")}})]),i("div",{staticClass:"search-wrap"},[i("img",{attrs:{src:e("571f"),alt:""}}),i("span",{staticClass:"search-btn"},[t._v("搜索")])])]),i("div",{staticClass:"swiper"},[i("mt-swipe",{attrs:{auto:4e3}},t._l(t.swiperLsit,function(t,s){return i("mt-swipe-item",{key:s},[i("img",{attrs:{src:t.adPicPath,alt:""}})])}),1)],1),i("div",{staticClass:"classify-wrap"},[i("ul",{staticClass:"classify"},[t._l(t.classifyList,function(s,e){return e<9?i("router-link",{key:e,staticClass:"classify-item",attrs:{tag:"li",to:{name:"search",params:{cateId:s.cateId}}}},[i("div",{staticClass:"item-img-wrap"},[i("img",{attrs:{src:s.catePic,alt:""}})]),i("div",{staticClass:"item-text",domProps:{textContent:t._s(s.cateName)}})]):t._e()}),i("li",{staticClass:"classify-item",on:{click:t.changeHash}},[t._m(0),i("div",{staticClass:"item-text"},[t._v("\n\t\t\t\t\t全部\n\t\t\t\t")])])],2)]),i("div",{staticClass:"goods-wrap"},[i("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"goods",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"230"}},t._l(t.goodsList,function(t,s){return i("li",{key:s,staticClass:"goods-item"},[i("list-row",{attrs:{item:t}})],1)}),0),t.noMore?i("div",{staticClass:"no-more"},[t._v("我是有底线的")]):t._e(),t.loading?i("div",{staticClass:"loading"},[i("mt-spinner",{attrs:{type:"triple-bounce",color:"rgb(100, 100, 100)"}})],1):t._e()])],1)},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"item-img-wrap"},[i("img",{attrs:{src:e("d166"),alt:""}})])}],o=e("098d"),n={name:"home",components:{ListRow:o["a"]},beforeRouteEnter:function(t,s,e){console.log(t,s,9999999),e()},beforeRouteUpdate:function(t,s,e){console.log(444)},data:function(){return{swiperLsit:[],classifyList:[],goodsList:[],pageNum:1,pageSize:10,noMore:!1,loading:!1}},created:function(){var t=this,s={belongOneDistriId:sessionStorage.getItem("belongOneDistriId")};this.$http.post(this.api.index.swiper,s).then(function(s){1e4==s.code&&(t.swiperLsit=JSON.parse(s.data))},function(t){});var e={belongOneDistriId:sessionStorage.getItem("belongOneDistriId")};this.$http.post(this.api.index.cate,e).then(function(s){1e4==s.code&&(t.classifyList=JSON.parse(s.data))},function(t){})},methods:{changeHash:function(){this.$router.push({name:"classify"}),this.$emit("update:hash","classify")},loadMore:function(){var t=this;this.noMore||(this.isMoreLoading=!0,this.loading=!0,setTimeout(function(){t.getList()},100))},getList:function(){var t=this;this.$http.post(this.api.index.good_list,{page:{pageNum:this.pageNum,pageSize:this.pageSize},belongOneDistriId:sessionStorage.getItem("belongOneDistriId"),userId:sessionStorage.getItem("userId")}).then(function(s){1e4==s.code&&(t.pageNum+=1,t.loading=!1,t.isMoreLoading=!1,s.data.length<t.pageSize&&(t.noMore=!0),t.goodsList=t.goodsList.concat(s.data))},function(t){})}}},r=n,c=(e("c45b"),e("2877")),l=Object(c["a"])(r,i,a,!1,null,"51117c6a",null);l.options.__file="Home.vue";s["default"]=l.exports},c45b:function(t,s,e){"use strict";var i=e("16c2"),a=e.n(i);a.a},d166:function(t,s,e){t.exports=e.p+"assets/img/home_more@2x.beaeb70e.png"}}]);